<!doctype html>
<html>
<head>
<link rel="stylesheet" type="text/css" href="stx-demo.css" media="screen" />    <!-- Style sheet for stx-demo.js -->
<script type="text/javascript" src="SAMPLEDATA.js"></script>   <!-- Sample data -->

<script type="text/javascript" src="stxUtilities.js"></script>
<script type="text/javascript" src="stxMarket.js"></script>
<script type="text/javascript" src="stxStudies.js"></script>
</head>

<body onLoad="displayChart()">

<!-- This is your chart container. Position it anywhere, and in any way that you wish on your webpage
     the items inside the chart container are widgets that are overlayed on the chart itself such as
     controls for zooming.
-->
  <div id="chartContainer"> 
    <div id="chartControls">
      <div id="chartSize"> <span id="zoomOut" class="minus">-</span> <span id="zoomIn" class="plus">-</span> </div>
      <div id="home" class="home btn" style="display:none"><span>Today</span></div>
    </div>
            
    <div id="iconsTemplate" class="icons" style="display: none;">
      <div id="iconsTitle">Title</div>
      <div class="btn icon"><span class="up">&nbsp;</span></div>
      <div class="btn icon"><span class="focus">&nbsp;</span></div>
      <div class="btn icon"><span class="down">&nbsp;</span></div>
      <div class="btn icon"><span class="close">&nbsp;</span></div>
    </div>
    
    <div id="handleTemplate" class="handle" style="display: none;"><span>Drag</span></div>
    
    <div id="floatDate" class="hd" style="display: none;"></div>
    <div id="floatVolume" class="hd" style="display: none;"></div>
    <div id="floatHR" class="vd" style="display: none;"></div>
    <div id="currentHR" class="vd" style="display: none;"></div>

    <div id="mSticky">
    	<span id="mStickyInterior"></span>
    	<span id="overlayTrashCan" class="btn icon" style="display:none">
    		<span class="close">&nbsp;</span>
    	</span>
    </div>
    
    <span id="annotationSave" class="btn">save</span> <span id="annotationCancel" style="margin-left:10px;" class="btn">cancel</span>
    <div id="crossY" class="stx_crosshair" style="display: none;"></div>
    <div id="crossX" class="stx_crosshair" style="display: none;"></div>
  </div>

<script type="text/javascript" src="stxChart.js"></script> 
<script type="text/javascript" charset="ISO-8859-1" src="stxModulus.js"></script>
<script type="text/javascript" charset="ISO-8859-1" src="stxKernelOs.js"></script>
<script>

var stxx=new STXChart(); // Declare a STXChart object. This is the main object for drawing charts.
stxx.manageTouchAndMouse=true;

function convertArrayToJson(quotes){
	var jsObj=[];
	for(var i=0;i<quotes.length;i++){
		jsObj[i]={};
		jsObj[i].Date=quotes[i][0];
		jsObj[i].Open=quotes[i][1];
		jsObj[i].High=quotes[i][2];
		jsObj[i].Low=quotes[i][3];
		jsObj[i].Close=quotes[i][4];
		jsObj[i].Volume=quotes[i][5];
		jsObj[i].Adj_Close=quotes[i][6];
	}
	return jsObj;
}

function displayChart(){
	stxx.chart.symbol="SPY"; 							// Set the internal symbol so that the display on the chart is correct
	stxx.setMasterData(convertArrayToJson(sampleData)); // Initialize the data
	stxx.createDataSet(); 								// This step runs the calculations for any selected studies.
	stxx.initializeChart($$("chartContainer")); 		// This initializes the chart to the container. Any existing canvases are removed.
	stxx.draw(); 										// Draw the chart. (This function is called continuously whenever the user scrolls, zooms, draws, etc)
}

</script>
</body>
</html>
